package saga;

import java.util.HashMap;

public class FornecedorController {

	private HashMap<String, Fornecedor> fornecedores;

	public FornecedorController() {
		this.fornecedores = new HashMap<String, Fornecedor>();
	}

	public String cadastraFornecedor(String nome, String email, String telefone) {
		if (nome == null) {
			throw new NullPointerException("NOME NULO");
		} else if ("".equals(nome.trim())) {
			throw new IllegalArgumentException("NOME VAZIO");
		} else if (!fornecedores.containsKey(nome)) {
			this.fornecedores.put(nome, new Fornecedor(nome, email, telefone));
			return nome;
		} else {
			throw new IllegalArgumentException("Fornecedor ja cadastrado");
		}
	}

	public String exibirFornecedor(String nome) {
		return fornecedores.get(nome).toString();
	}

	public String listarFornecedores() {
		String msg = "";
		int contador = 0;
		for (Fornecedor e : fornecedores.values()) {
			contador += 1;
			if (contador < fornecedores.size()) {
				msg += e.toString() + " | ";
			} else {
				msg += e.toString();
			}
		}
		return msg;
	}

	public void mudarEmail(String nome, String email) {
		fornecedores.get(nome).setEmail(email);
	}
	
	public void mudarTelefone(String nome, String telefone) {
		fornecedores.get(nome).setTelefone(telefone);
	}
	
	public void removeFornecedor(String nome) {
		fornecedores.remove(nome);
	}
	
	public void cadastraProduto(String nomeFornecedor, String preco, String nomeProduto, String descricao) {
		fornecedores.get(nomeFornecedor).cadastraProduto(preco, nomeProduto, descricao);
	}
	
	public String exibirProduto(String nomeFornecedor, String nomeProduto, String descricao) {
		return fornecedores.get(nomeFornecedor).exibirProduto(nomeProduto, descricao);
	}
	
	public String listarProdutosDeUmFornecedor(String nomeFornecedor) {
		return fornecedores.get(nomeFornecedor).listarProdutos();
	}
	
	public String listarProdutosDeTodosFornecedores() {
		String msg = "";
		int contador = 0;
		for (Fornecedor e : fornecedores.values()) {
			contador += 1;
			if (contador < fornecedores.size()) {
				msg += e.listarProdutos() + " | ";
			}else {
				msg += e.listarProdutos();
			}
		}
		return msg;
	}

	public void mudarPrecoProduto(String nomeFornecedor, String nomeProduto, String descricao, String precoNovo) {
		fornecedores.get(nomeFornecedor).mudarPreco(nomeProduto, descricao, precoNovo);
	}
}
